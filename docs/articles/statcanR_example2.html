<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>statcanR Vignette: Example 2 • statcanR</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="statcanR Vignette: Example 2">
<meta property="og:description" content="statcanR">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">statcanR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.2.4</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/statCanR.html">statCanR</a>
    </li>
    <li>
      <a href="../articles/statcanR_example1.html">statcanR Vignette: Example 1</a>
    </li>
    <li>
      <a href="../articles/statcanR_example2.html">statcanR Vignette: Example 2</a>
    </li>
    <li>
      <a href="../articles/vignettes.html">vignettes</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/warint/statcanR/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="statcanR_example2_files/htmlwidgets-1.6.1/htmlwidgets.js"></script><link href="statcanR_example2_files/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="statcanR_example2_files/datatables-binding-0.27/datatables.js"></script><link href="statcanR_example2_files/dt-core-1.12.1/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="statcanR_example2_files/dt-core-1.12.1/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="statcanR_example2_files/dt-core-1.12.1/js/jquery.dataTables.min.js"></script><link href="statcanR_example2_files/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet">
<script src="statcanR_example2_files/crosstalk-1.2.0/js/crosstalk.min.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>statcanR Vignette: Example 2</h1>
                        <h4 data-toc-skip class="author">Thierry
Warin</h4>
            
      
      <small class="dont-index">Source: <a href="https://github.com/warint/statcanR/blob/HEAD/vignettes/statcanR_example2.Rmd" class="external-link"><code>vignettes/statcanR_example2.Rmd</code></a></small>
      <div class="hidden name"><code>statcanR_example2.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="intro">Intro<a class="anchor" aria-label="anchor" href="#intro"></a>
</h2>
<p>In this 2nd example vignette, we leverage a Statistics Canada dataset
in order to demonstrate the commands available in the statcanR package
and their functionality. We then proceed with some brief data analysis
to demonstrate the ease with which the statcanR functions allow for a
rapid transition between data cleaning and analysis.</p>
<p>Let’s say we are interested in understanding how much spending goes
into research and development (R&amp;D), both across Canada and compared
to other developed nations. In order to identify pertinent datasets, we
start by using the statcan_search() command. This command allows us to
match keywords related to our topic of interest with a database/
databases available on the Statistics Canada website. Given our example
topic of interest, some keywords could be “expenditure”, “research”
“development”, and “province”. A useful piece of the statcan_search()
command is that it can search for several words in a row. For example,
instead of needing to write out “research” and “development” as separate
terms in a vector, we could simply write “research and development”.
This is demonstrated below:</p>
<p><br></p>
<div class="section level4">
<h4 id="data-identification-using-the-statcan_search-command">Data identification: Using the statcan_search() command<a class="anchor" aria-label="anchor" href="#data-identification-using-the-statcan_search-command"></a>
</h4>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/warint/statcanR/" class="external-link">statcanR</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/rstudio/DT" class="external-link">DT</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/jeroen/curl" class="external-link">curl</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/hadley/reshape" class="external-link">reshape2</a></span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="co"># Enter keywords and preferred language ("eng" for Enlgish or "fra" for French)</span></span>
<span><span class="fu"><a href="../reference/statcan_search.html">statcan_search</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"expenditure"</span>,<span class="st">"research and development"</span>,<span class="st">"province"</span><span class="op">)</span>,<span class="st">"eng"</span><span class="op">)</span></span></code></pre></div>
<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-2c5d29f70d363c50ded9" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-2c5d29f70d363c50ded9">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18"],["Gross domestic expenditures on research and development, by science type and by funder and performer sector","Business enterprise in-house research and development characteristics, by industry group based on the North American Industry Classification System (NAICS), country of control and provinces and territories","Total domestic expenditures on research and development (R&amp;D) as percentage of gross domestic product (GDP), Canada and provinces, and G-7 countries","Percentage of total research and development (R&amp;D) expenditure by performing sector, Canada and provinces, and G-7 countries","Sources of funds for expenditures on research and development (R&amp;D) in the higher education sector","Private non-profit organization in-house research and development characteristics by provinces and territories","Business enterprise expenditure on research and development characteristics, by field of science or technology and industry","Business enterprise expenditure on research and development characteristics, by geography and industry","Business enterprise expenditure on research and development, by country of control and industry","Business enterprise expenditure on research and development, by sources of funds","Business enterprise expenditure on research and development, by performing company employment size","Business enterprise expenditure on research and development, by research and development expenditures size","Business enterprise energy research and development expenditures and extramural payments, by area of technology","Private non-profit organizations research and development intramural expenditures, by type of science","Private non-profit organizations research and development intramural expenditures by sources of funds","Sources of funds for expenditures on research and development (R&amp;D) in the higher education sector, in dollars and as a percentage of total funding, Canada and provinces","Innovation, logging and manufacturing industries, percentage of plants with expenditures on research and development services that were supplied from different locations","Innovation, logging and manufacturing industries, percentage of plants with expenditures on research and development services by different locations"],["27-10-0273-01","27-10-0341-01","27-10-0359-01","27-10-0360-01","27-10-0363-01","27-10-0325-01","27-10-0003-01","27-10-0024-01","27-10-0070-01","27-10-0074-01","27-10-0075-01","27-10-0081-01","27-10-0103-01","27-10-0107-01","27-10-0109-01","37-10-0116-01","27-10-0258-01","27-10-0265-01"],["This table provides Canadians and researchers with provisional data to monitor weekly death trends by selected grouped causes of death in Canada. Given the delays in receiving the data from the provincial and territorial vital statistics offices, these data are considered provisional.    Data in this table will be available by province and territory.","This table contains 20475 series, with data for years 2014 - 2015 (not all combinations necessarily have data for all years). This table contains data described by the following dimensions (Not all combinations are available):  Geography (13 items: Newfoundland and Labrador; Prince Edward Island; Nova Scotia; New Brunswick; ...)  North American Industry Classification System (NAICS) (75 items: Total all industries; Agriculture, forestry, fishing and hunting; Agriculture (except aquaculture) and support activities for crop production and animal production; Forestry, logging and support activities for forestry; ...)  Country of control (3 items: Total country of control; Canada; Foreign)  Research and development characteristics (7 items: Total in-house research and development expenditures; Total current in-house research and development expenditures in Canada; Total capital in-house research and development expenditures in Canada; Total in-house research and development personnel; ...).","Total domestic expenditures on research and development (R&amp;D) as percentage of gross domestic product (GDP). This table is included in Section D: Postsecondary education: Research and development of the Pan Canadian Education Indicators Program (PCEIP). PCEIP draws from a wide variety of data sources to provide information on the school-age population, elementary, secondary and postsecondary education, transitions, education finance and labour market outcomes. The program presents indicators for all of Canada, the provinces, the territories, as well as selected international comparisons and comparisons over time. PCEIP is an ongoing initiative of the Canadian Education Statistics Council, a partnership between Statistics Canada and the Council of Ministers of Education, Canada that provides a set of statistical measures on education systems in Canada.","Percentage of total research and development (R&amp;D) expenditure by performing sector. This table is included in Section D: Postsecondary education: Research and development of the Pan Canadian Education Indicators Program (PCEIP). PCEIP draws from a wide variety of data sources to provide information on the school-age population, elementary, secondary and postsecondary education, transitions, education finance and labour market outcomes. The program presents indicators for all of Canada, the provinces, the territories, as well as selected international comparisons and comparisons over time. PCEIP is an ongoing initiative of the Canadian Education Statistics Council, a partnership between Statistics Canada and the Council of Ministers of Education, Canada that provides a set of statistical measures on education systems in Canada.","Sources of funds for expenditures on research and development (R&amp;D) in the higher education sector. This table is included in Section D: Postsecondary education: Research and development of the Pan Canadian Education Indicators Program (PCEIP). PCEIP draws from a wide variety of data sources to provide information on the school-age population, elementary, secondary and postsecondary education, transitions, education finance and labour market outcomes. The program presents indicators for all of Canada, the provinces, the territories, as well as selected international comparisons and comparisons over time. PCEIP is an ongoing initiative of the Canadian Education Statistics Council, a partnership between Statistics Canada and the Council of Ministers of Education, Canada that provides a set of statistical measures on education systems in Canada.","This table contains 98 series, with data for years 2014 - 2015 (not all combinations necessarily have data for all years). This table contains data described by the following dimensions (Not all combinations are available):  Geography (14 items: Newfoundland and Labrador; Prince Edward Island; Nova Scotia; New Brunswick; ...)  Research and development characteristics (7 items: Total in-house research and development expenditures; Total current in-house research and development expenditures; Total capital in-house research and development expenditures; Total in-house research and development personnel; ...).","This profile presents information from the 2021 Census of Population for various levels of geography, including provinces and territories, census metropolitan areas, communities and census tracts. Data are from the 2021 Census of Population and are available according to the major releases of the 2021 Census release dates: February 9, 2022 – Population and dwelling counts; April 27, 2022 – Age, Sex at birth and gender, Type of dwelling; July 13, 2022 – Families, households and marital status, Canadian military experience, Income; August 17, 2022 – Language; September 21, 2022 – Indigenous peoples, Housing; October 26, 2022 – Immigration, place of birth, and citizenship, Ethnocultural and religious diversity, Mobility and migration; November 30, 2022 – Education, Labour, Language of work, Commuting, Instruction in the official minority language.\n","This table provides Canadians and researchers with provisional data to monitor weekly death trends by age and sex in Canada. Given the delays in receiving the data from the provincial and territorial vital statistics offices, these data are considered provisional.    Data in this table will be available by province and territory.","This table provides Canadians and researchers with provisional data to monitor weekly death trends in Canada. Given the delays in receiving the data from the provincial and territorial vital statistics offices, these data are considered provisional.    Data in this table will be available by province and territory.","Provisional estimates of excess mortality, adjusted numbers of deaths, and expected numbers of deaths to monitor weekly death trends, by age group and sex, in Canada. Given the delays in receiving the data from the provincial and territorial vital statistics offices, death data have been adjusted to account for undercoverage.    Data in this table will be available by province and territory.","This table provides Canadians and researchers with provisional data to monitor weekly death trends by selected grouped causes of death in Canada. Given the delays in receiving the data from the provincial and territorial vital statistics offices, these data are considered provisional.    Data in this table will be available by province and territory.","This product presents information from the Census of Population focusing on the Aboriginal identity population of various geographic areas. These geographic areas include: Canada, provinces and territories, census metropolitan areas and census agglomerations, census divisions, census subdivisions, Métis settlements, Inuit regions, Indian band and Tribal Council areas, modern treaty and self-government agreement areas and historic treaty areas. Data are available for the Aboriginal identity population by age groups for selected socio-demographic characteristics.","This table provides Canadians and researchers with provisional data to monitor weekly death trends by age and sex in Canada. Given the delays in receiving the data from the provincial and territorial vital statistics offices, these data are considered provisional.    Data in this table will be available by province and territory.","This table provides Canadians and researchers with provisional data to monitor weekly death trends by age and sex in Canada. Given the delays in receiving the data from the provincial and territorial vital statistics offices, these data are considered provisional.    Data in this table will be available by province and territory.","This table provides Canadians and researchers with provisional data to monitor weekly death trends in Canada. Given the delays in receiving the data from the provincial and territorial vital statistics offices, these data are considered provisional.    Data in this table will be available by province and territory.","Sources of funds for expenditures on research and development (R&amp;D) in the higher education sector, in dollars and as a percentage of total funding, Canada and provinces. This table is included in Section D: Postsecondary education: Research and Development of the Pan Canadian Education Indicators Program (PCEIP). PCEIP draws from a wide variety of data sources to provide information on the school-age population, elementary, secondary and postsecondary education, transitions, education finance and labour market outcomes. The program presents indicators for all of Canada, the provinces, the territories, as well as selected international comparisons and comparisons over time. PCEIP is an ongoing initiative of the Canadian Education Statistics Council, a partnership between Statistics Canada and the Council of Ministers of Education, Canada that provides a set of statistical measures on education systems in Canada.","Provisional estimates of excess mortality, adjusted numbers of deaths, and expected numbers of deaths to monitor weekly death trends in Canada. Given the delays in receiving the data from the provincial and territorial vital statistics offices, death data have been adjusted to account for undercoverage. Data in this table will be available by province and territory.","This product presents information from the Census of Population for various levels of geography, including provinces and territories, census metropolitan areas, communities and census tracts. Data are from the Census of Population and include characteristics for: population, age, sex, dwellings, families, marital status, language, income, education and labour as examples."],["2023-01-27","2022-06-24","2022-03-29","2022-03-29","2022-03-29","2022-02-03","2017-04-24","2017-04-24","2017-04-24","2017-04-24","2017-04-24","2017-04-24","2017-04-24","2017-04-18","2017-04-18","2016-01-07","2015-06-25","2015-06-25"],["eng","eng","eng","eng","eng","eng","eng","eng","eng","eng","eng","eng","eng","eng","eng","eng","eng","eng"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>title<\/th>\n      <th>id<\/th>\n      <th>description<\/th>\n      <th>release_date<\/th>\n      <th>lang<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":5,"columnDefs":[{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[5,10,25,50,100]}},"evals":[],"jsHooks":[]}</script><p>We will choose the 4th dataset in the list in order to conduct some
comparative static analysis on R&amp;D spending. Following the same
process in Example 1, we use the table number found from the data table
produced by the statcan_search() command in order to download the
dataset, which we call “rd”.</p>
<p><br></p>
</div>
<div class="section level4">
<h4 id="data-extraction-using-the-statcan_download_data-command">Data extraction: Using the statcan_download_data() command<a class="anchor" aria-label="anchor" href="#data-extraction-using-the-statcan_download_data-command"></a>
</h4>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Enter tableNumber and preferred language ("eng" for Enlgish or "fra" for French)</span></span>
<span><span class="va">rd</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/statcan_download_data.html">statcan_download_data</a></span><span class="op">(</span>tableNumber <span class="op">=</span> <span class="st">"27-10-0360-01"</span>,lang<span class="op">=</span><span class="st">"eng"</span><span class="op">)</span>  <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  </span>
<span>  <span class="co"># Remove unneeded variables</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">.</span>,<span class="va">REF_DATE</span> <span class="op">==</span> <span class="st">"2018-01-01"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">REF_DATE</span>,<span class="va">DGUID</span>,<span class="va">UOM_ID</span>,<span class="va">SCALAR_FACTOR</span>,<span class="va">SCALAR_ID</span>,<span class="va">VECTOR</span>,<span class="va">STATUS</span>,<span class="va">COORDINATE</span>,<span class="va">SYMBOL</span>,<span class="va">TERMINATED</span>,<span class="va">DECIMALS</span>,<span class="va">UOM</span>,<span class="va">INDICATOR</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html" class="external-link">rename</a></span><span class="op">(</span>percent_total <span class="op">=</span> <span class="va">VALUE</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/DT/man/datatable.html" class="external-link">datatable</a></span><span class="op">(</span><span class="va">rd</span><span class="op">)</span></span></code></pre></div>
<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-6d310b1f8e5ac5437efa" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-6d310b1f8e5ac5437efa">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119"],["Canada","Canada","Canada","Canada","Canada","Canada","Canada","Newfoundland and Labrador","Newfoundland and Labrador","Newfoundland and Labrador","Newfoundland and Labrador","Newfoundland and Labrador","Newfoundland and Labrador","Newfoundland and Labrador","Prince Edward Island","Prince Edward Island","Prince Edward Island","Prince Edward Island","Prince Edward Island","Prince Edward Island","Prince Edward Island","Nova Scotia","Nova Scotia","Nova Scotia","Nova Scotia","Nova Scotia","Nova Scotia","Nova Scotia","New Brunswick","New Brunswick","New Brunswick","New Brunswick","New Brunswick","New Brunswick","New Brunswick","Quebec","Quebec","Quebec","Quebec","Quebec","Quebec","Quebec","Ontario","Ontario","Ontario","Ontario","Ontario","Ontario","Ontario","Manitoba","Manitoba","Manitoba","Manitoba","Manitoba","Manitoba","Manitoba","Saskatchewan","Saskatchewan","Saskatchewan","Saskatchewan","Saskatchewan","Saskatchewan","Saskatchewan","Alberta","Alberta","Alberta","Alberta","Alberta","Alberta","Alberta","British Columbia","British Columbia","British Columbia","British Columbia","British Columbia","British Columbia","British Columbia","France","France","France","France","France","France","France","Germany","Germany","Germany","Germany","Germany","Germany","Germany","Italy","Italy","Italy","Italy","Italy","Italy","Italy","Japan","Japan","Japan","Japan","Japan","Japan","Japan","United Kingdom","United Kingdom","United Kingdom","United Kingdom","United Kingdom","United Kingdom","United Kingdom","United States","United States","United States","United States","United States","United States","United States"],["Total, performing sector","Government, total","Federal government","Provincial governments","Business enterprise","Higher education","Private non-profit","Total, performing sector","Government, total","Federal government","Provincial governments","Business enterprise","Higher education","Private non-profit","Total, performing sector","Government, total","Federal government","Provincial governments","Business enterprise","Higher education","Private non-profit","Total, performing sector","Government, total","Federal government","Provincial governments","Business enterprise","Higher education","Private non-profit","Total, performing sector","Government, total","Federal government","Provincial governments","Business enterprise","Higher education","Private non-profit","Total, performing sector","Government, total","Federal government","Provincial governments","Business enterprise","Higher education","Private non-profit","Total, performing sector","Government, total","Federal government","Provincial governments","Business enterprise","Higher education","Private non-profit","Total, performing sector","Government, total","Federal government","Provincial governments","Business enterprise","Higher education","Private non-profit","Total, performing sector","Government, total","Federal government","Provincial governments","Business enterprise","Higher education","Private non-profit","Total, performing sector","Government, total","Federal government","Provincial governments","Business enterprise","Higher education","Private non-profit","Total, performing sector","Government, total","Federal government","Provincial governments","Business enterprise","Higher education","Private non-profit","Total, performing sector","Government, total","Federal government","Provincial governments","Business enterprise","Higher education","Private non-profit","Total, performing sector","Government, total","Federal government","Provincial governments","Business enterprise","Higher education","Private non-profit","Total, performing sector","Government, total","Federal government","Provincial governments","Business enterprise","Higher education","Private non-profit","Total, performing sector","Government, total","Federal government","Provincial governments","Business enterprise","Higher education","Private non-profit","Total, performing sector","Government, total","Federal government","Provincial governments","Business enterprise","Higher education","Private non-profit","Total, performing sector","Government, total","Federal government","Provincial governments","Business enterprise","Higher education","Private non-profit"],[100,7.2,6.2,1,52.1,40.3,0.5,100,4.3,4.3,null,20.7,75,null,100,20.2,20.2,null,31,47.6,null,100,11.9,11.9,null,23.3,64.9,null,100,12.3,10.9,1.4,31,56.7,null,100,5.1,4.3,0.8,55.3,39.6,null,100,8.3,8,0.4,55.5,36.2,null,100,14.5,13.4,1.1,34,51.6,null,100,13.1,10.1,3,35,51.9,null,100,8.5,4.2,4.3,44,47.5,null,100,3,2.4,0.6,57.1,39.8,null,100,12.5,null,null,65.5,20.5,1.6,100,13.5,null,null,68.9,17.6,null,100,12.4,null,null,63.3,22.8,1.5,100,7.8,null,null,79.4,11.6,1.3,100,6.6,null,null,67.6,23.6,2.2,100,9.9,null,null,73.4,12.3,4.4]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>GEO<\/th>\n      <th>Performing sector<\/th>\n      <th>percent_total<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":3},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script><p><br></p>
</div>
</div>
<div class="section level2">
<h2 id="analysis-exploration">Analysis / Exploration<a class="anchor" aria-label="anchor" href="#analysis-exploration"></a>
</h2>
<p>Which provinces receive the most public investment for research and
development? We start by examining the amount of R&amp;D invested by
province for the year 2018. Note that these values reflect the
percentage of total government spending at both federal and provincial
levels and is expressed as a percentage of total government spending
across the whole country.</p>
<p><br></p>
<div class="section level4">
<h4 id="government-rd-total-spending-by-province">Government R&amp;D: Total Spending, by Province<a class="anchor" aria-label="anchor" href="#government-rd-total-spending-by-province"></a>
</h4>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Filter for COVID barrier</span></span>
<span><span class="va">rd_cangov</span> <span class="op">&lt;-</span><span class="va">rd</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">.</span>,<span class="va">`Performing sector`</span> <span class="op">==</span> <span class="st">"Government, total"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">.</span>, <span class="va">GEO</span> <span class="op">!=</span> <span class="st">"Canada"</span> <span class="op">&amp;</span> <span class="va">GEO</span> <span class="op">!=</span> <span class="st">"France"</span> <span class="op">&amp;</span> <span class="va">GEO</span> <span class="op">!=</span> <span class="st">"Germany"</span> <span class="op">&amp;</span> <span class="va">GEO</span> <span class="op">!=</span> <span class="st">"Italy"</span> <span class="op">&amp;</span> <span class="va">GEO</span> <span class="op">!=</span> <span class="st">"Japan"</span> <span class="op">&amp;</span> <span class="va">GEO</span> <span class="op">!=</span> <span class="st">"United Kingdom"</span> <span class="op">&amp;</span> <span class="va">GEO</span> <span class="op">!=</span> <span class="st">"United States"</span><span class="op">)</span> </span>
<span>  </span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span>width <span class="op">=</span> <span class="fl">300</span><span class="op">)</span></span>
<span><span class="co"># Plot data</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">rd_cangov</span>,<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">GEO</span>,y <span class="op">=</span> <span class="va">percent_total</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html" class="external-link">geom_bar</a></span><span class="op">(</span>fill <span class="op">=</span> <span class="st">"darkred"</span>,stat <span class="op">=</span> <span class="st">"identity"</span>,position <span class="op">=</span> <span class="st">"dodge"</span>, width <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>axis.text <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">7</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ylab</a></span><span class="op">(</span><span class="st">"Percent of Canadian Gov Investment"</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle</a></span><span class="op">(</span><span class="st">"Percent of Canadian Government Investment in R&amp;D, by Province"</span><span class="op">)</span> </span></code></pre></div>
<p><img src="statcanR_example2_files/figure-html/unnamed-chunk-4-1.png" width="1200" style="display: block; margin: auto;"></p>
<p><br></p>
<p>Now, let’s see how much of these values are coming from the federal
government versus provincial governments.</p>
<p><br></p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Filter for COVID barrier</span></span>
<span><span class="va">rd_fedprov</span> <span class="op">&lt;-</span><span class="va">rd</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">.</span>,<span class="va">`Performing sector`</span> <span class="op">==</span> <span class="st">"Federal government"</span> <span class="op">|</span> <span class="va">`Performing sector`</span> <span class="op">==</span> <span class="st">"Provincial governments"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">.</span>, <span class="va">GEO</span> <span class="op">!=</span> <span class="st">"France"</span> <span class="op">&amp;</span> <span class="va">GEO</span> <span class="op">!=</span> <span class="st">"Germany"</span> <span class="op">&amp;</span> <span class="va">GEO</span> <span class="op">!=</span> <span class="st">"Italy"</span> <span class="op">&amp;</span> <span class="va">GEO</span> <span class="op">!=</span> <span class="st">"Japan"</span> <span class="op">&amp;</span> <span class="va">GEO</span> <span class="op">!=</span> <span class="st">"United Kingdom"</span> <span class="op">&amp;</span> <span class="va">GEO</span> <span class="op">!=</span> <span class="st">"United States"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate_all.html" class="external-link">mutate_if</a></span><span class="op">(</span><span class="va">is.numeric</span>, <span class="fu"><a href="https://dplyr.tidyverse.org/reference/funs.html" class="external-link">funs</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">.</span><span class="op">)</span>, <span class="fl">0</span>, <span class="va">.</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>perf <span class="op">=</span> <span class="va">`Performing sector`</span><span class="op">)</span></span>
<span>  </span>
<span></span>
<span><span class="co"># Plot data</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">rd_fedprov</span>,<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">GEO</span>,y <span class="op">=</span> <span class="va">percent_total</span>, fill <span class="op">=</span> <span class="va">perf</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html" class="external-link">geom_col</a></span><span class="op">(</span>position <span class="op">=</span> <span class="st">"stack"</span><span class="op">)</span><span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html" class="external-link">geom_bar</a></span><span class="op">(</span>stat <span class="op">=</span> <span class="st">"identity"</span>,position <span class="op">=</span> <span class="st">"stack"</span>, width <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>axis.text <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">7</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ylab</a></span><span class="op">(</span><span class="st">"Percent of Canadian Gov Investment"</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle</a></span><span class="op">(</span><span class="st">"Percent of Canadian Government Investment in R&amp;D, by Province"</span><span class="op">)</span> </span></code></pre></div>
<p><img src="statcanR_example2_files/figure-html/unnamed-chunk-5-1.png" width="1248" style="display: block; margin: auto;"><br></p>
<p>The above chart confirms that in Canada, the federal government
dominates provincial governments in terms of overall F&amp;D spending
(with the exception of Alberta). Finally, let’s look at how total
R&amp;D spending varies across the G-7 countries.</p>
<p><br></p>
</div>
<div class="section level4">
<h4 id="government-rd-spending-by-g-7-country">Government R&amp;D Spending, by G-7 Country<a class="anchor" aria-label="anchor" href="#government-rd-spending-by-g-7-country"></a>
</h4>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">rd_countries</span> <span class="op">&lt;-</span><span class="va">rd</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">.</span>, <span class="va">GEO</span> <span class="op">==</span> <span class="st">"Canada"</span> <span class="op">|</span> <span class="va">GEO</span> <span class="op">==</span> <span class="st">"France"</span> <span class="op">|</span><span class="va">GEO</span> <span class="op">==</span> <span class="st">"Germany"</span> <span class="op">|</span><span class="va">GEO</span> <span class="op">==</span> <span class="st">"Japan"</span> <span class="op">|</span><span class="va">GEO</span> <span class="op">==</span> <span class="st">"United Kingdom"</span> <span class="op">|</span><span class="va">GEO</span> <span class="op">==</span> <span class="st">"United States"</span> <span class="op">|</span><span class="va">GEO</span> <span class="op">==</span> <span class="st">"Italy"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">.</span>,<span class="va">`Performing sector`</span> <span class="op">==</span> <span class="st">"Government, total"</span><span class="op">)</span> </span>
<span></span>
<span><span class="co"># Plot data</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">rd_countries</span>,<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">GEO</span>,y <span class="op">=</span> <span class="va">percent_total</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html" class="external-link">geom_bar</a></span><span class="op">(</span>fill <span class="op">=</span> <span class="st">"darkred"</span>,stat <span class="op">=</span> <span class="st">"identity"</span>,position <span class="op">=</span> <span class="st">"dodge"</span>, width <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>axis.text <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">7</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ylab</a></span><span class="op">(</span><span class="st">"Percent of R&amp;D Spending by Governments"</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle</a></span><span class="op">(</span><span class="st">"Percent of R&amp;D Spending by Governments, by G-7 Countries"</span><span class="op">)</span> </span></code></pre></div>
<p><img src="statcanR_example2_files/figure-html/unnamed-chunk-6-1.png" width="768" style="display: block; margin: auto;"><br></p>
</div>
</div>
<div class="section level2">
<h2 id="conclusion">Conclusion<a class="anchor" aria-label="anchor" href="#conclusion"></a>
</h2>
<p>From the above graphics, we can see that within Canada, the federal
government dominates provincial governments in terms of research and
development. Nevertheless, when we expand the analysis to the
cross-country level, we observe that the Canadian government is a
relatively low investor in research and development.</p>
<p><br></p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Thierry Warin, Romain Le Duc.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
